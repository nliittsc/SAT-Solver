#!/bin/bash
# Generate set of random satisfiable wffs

for (( v = 320 ; v <= 100000 ; v = v * 2 ))
do
   (( c = (v * 42) / 10 ))
   for (( i = 1 ; i <= 10 ; i++ ))
   do
      (( try = 1 ))
      while (( ${try} ))
      do
         makewff -cnf 3 $v $c > TEMP.cnf
         walksat -numsol 1 -cutoff 500000 < TEMP.cnf > TEMP.sol
         if (( $(grep -c 'ASSIGNMENT FOUND' TEMP.sol) ))
         then
             mv TEMP.cnf f$(printf '%03d' $v)-$(printf '%02d' $i)-s.cnf
             (( try = 0 ))
         fi
      done
   done
done
